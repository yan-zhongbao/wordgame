21 天单词闯关游戏（iPad/PWA）设计文档
1. 项目目标

为小学生设计一个 21 天、每天 10 个词/短语 的闯关式记忆游戏，运行在 iPad 上（优先），支持离线使用。核心训练链路：

识别（认） → 拼写（拼） → 意义绑定（用/联想）
并通过 错题复活机制 强化“发现错误 → 修正 → 成就感”的回路。

2. 用户与使用场景

用户：四年级学生

设备：iPad（Safari），可添加到主屏幕

每日使用时长：10–15 分钟

家长需求：

使用 Excel/表格维护词库

系统自动生成关卡与复习

能看到孩子错词、薄弱点与进步

3. 产品形态与技术路线
3.1 形态：PWA（推荐）

Web（HTML/JS）实现

支持：

添加到主屏幕（类似 App）

全屏显示

离线缓存（Service Worker）

本地存储（IndexedDB）

3.2 离线策略

静态资源全部缓存：HTML/CSS/JS/词库 JSON/音频

离线可完成：

每日闯关

复习错词

数据存档与统计

3.3 存储选择

简单模式：localStorage（仅适合少量数据）

推荐：IndexedDB（词条学习记录、错题队列、统计）

4. 核心玩法概述
4.1 21 关结构

共 21 关（Day 1…Day 21）

每关包含：

错词复活区（复习）

新词识别（选择题）

拼写构建（音节块/字母块）

意义绑定（场景/动作/短语补全）

结算与奖励

4.2 总体原则

先复习错词，再学新词（先还债）

错误比正确更值钱：错词必须进入复习队列

即时反馈：当场知道对错与原因

控制时长：每天 < 15 分钟

不追求“背会”，追求“稳定提取”（retrieval）

5. 关卡流程设计（详细）
Stage 0：错词复活区（2–3 分钟）

目的：巩固前一天及历史错词，形成“错了就会回来”的稳定预期。

题库来源：复习队列（优先级最高：昨天错词）

题型：

英文 → 选中文

中文 → 选英文

通关条件：

全对才进入 Stage 1（可配置：允许错 1 个但会降星）

体验点：明确告诉孩子“这是你昨天留下的怪”。

Stage 1：新词识别 Recognition（约 5 分钟）

目的：建立“形式 → 意义”的映射，快速进入可提取状态。

每日 10 个词/短语

题型：

英文 → 中文（主）

中文 → 英文（辅，提升反向提取）

选项设计：

正确项 1 个

干扰项 3 个（可配置）

干扰项规则：

1 个语义相近（容易混）

1 个形式相近（拼写像）

1 个随机（防蒙）

Stage 2：拼写构建 Spelling Builder（4–5 分钟）

目的：把“看懂”推进到“能拼出来”，提升拼写稳定性与语音映射。

玩法 A：音节块拖拽（推荐）

单词被拆成 syllable chunks，例如：

centre → cen + tre

volleyball → vol + ley + ball（示例）

屏幕提供：

正确块

干扰块（音素/相似拼写块）

玩家拖拽组合成正确单词

干扰块生成策略（可混用）

音素相近：sen/cin/sin

字母替换：tre/ter

常见错误拼写：conter, centar（示例）

拆分错位：cenr/trec

反馈策略

拼错：不给答案，只允许“再听一遍”

拼对：即时动画/音效奖励

iPad 实现建议：不用原生 Drag&Drop，改用 Pointer Events 自定义拖拽，触控更稳。

Stage 3：意义绑定 Meaning Lock（2–3 分钟）

目的：把词粘到场景/动作/搭配上，减少“背了就忘”。

随机出现一种（每天不同，避免腻）：

玩法 1：场景选择

milk the cow → 哪个场景？

farm ✅

school

supermarket

玩法 2：动作匹配

jump far → 哪张动作图？

warm up → 哪个动作？

玩法 3：短语补全 Collocation

jump ___ → high / far

weather ___ → report

Stage 4：结算与奖励

用星级代替分数，减少挫败，保留目标感。

⭐⭐⭐：0 错

⭐⭐：1–2 错

⭐：≥3 错

规则：

错词进入复习队列（按错因与次数加权）

连续 N 天 ⭐⭐⭐ 解锁奖励关（N 可配置，建议 3）

6. 复习系统（错题队列与间隔复习）
6.1 复习队列优先级

从高到低：

昨天错词

历史高错词（累计错 ≥2）

长期未复习词（间隔复习到期）

6.2 复习调度建议（简化版 SRS）

给每个词维护字段：

wrongCount

streakCorrect（连续正确次数）

nextReviewAt（下次复习时间或天数）

lastWrongType（错因标签）

调度规则（示例）：

错一次：明天必出

连对 1 次：隔 2 天

连对 2 次：隔 4 天

连对 3 次：隔 7 天并标记“已驯服”

7. 错因标签体系（提升学习效率）

每次错误打标签，用于第二天“针对性复习”：

Meaning（意思混）

Spelling（拼写错）

Similar（和近形近音词混）

Guess（乱选）

Phrase（短语搭配错）

用途：

统计孩子主要薄弱类型

第二天复活区可选择“只打拼写怪/只打意思怪”

8. 数据与内容设计
8.1 词库来源

家长使用 Excel 维护，导出为 JSON/CSV 供网页加载。

8.2 数据结构建议（JSON）

每条记录至少包含：

day: 1..21

en: string（英文）

zh: string（中文）

kind: "word" | "phrase"

tags: ["sports", "farm", "weather"...]（可选，用于意义绑定）

chunks: ["cen","tre"]（用于拼写关）

distractors: ["sen","sin","ter","te"]（可选，支持自动生成）

8.3 音频资源策略（推荐）

预生成音频文件（mp3），每个词/短语一条

文件命名与索引建议：

audio/en/centre.mp3

audio/phrase/jump_far.mp3

iOS 规则：首次播放需用户点击触发，设计“播放”按钮即可。

9. UI/交互规范（iPad 友好）
9.1 基本布局

顶部：Day X + 进度条 + 星级预览

中部：题干卡片（英文/中文/图片）

底部：选项区 / 拖拽区

右上角：音频播放按钮

9.2 交互原则

尽量少打字（拼写用拖拽/点选块）

错误反馈短、明确、不说教

动效轻量：对了就“爽”，错了就“再来”

10. 模块划分（便于 Codex 生成代码）

建议按以下模块拆分实现：

data：词库加载、解析、按 day 切片

engine：关卡状态机（Stage 0–4）

review：错题队列与复习调度（SRS 简化）

question：

选择题生成（含干扰项策略）

拼写题生成（chunks + distractors）

意义绑定题生成（场景/动作/补全）

storage：IndexedDB 存取封装

audio：音频播放管理（预加载、用户手势解锁）

ui：

卡片组件

选项组件

拖拽拼写组件（Pointer Events）

11. 关键边界与约束

iPad Safari 上不要依赖原生 HTML5 Drag&Drop

音频播放必须由用户手势触发一次

不强依赖联网

不做语音识别（可作为未来版本）

12. 统计与家长视角（可选增强）

提供一个“家长页/统计页”：

每天星级

总词数、掌握数、待复习数

高频错词 Top 20

错因分布（拼写/意思/近形近音/乱选）

13. 版本规划
MVP（1–3 天可做）

词库 JSON

Stage 0 + Stage 1（选择题）

错题队列（只做“明天必出”）

本地存档

v1（体验成型）

Stage 2 拖拽拼写（Pointer Events）

音频播放

星级结算

简化间隔复习

v2（更聪明）

错因标签

意义绑定题库

家长统计页

PWA 离线缓存

14. 验收标准（你可以用这个“压测”孩子）

第 7 天时：Day1–Day7 的词能稳定识别 ≥ 90%

第 14 天时：历史高错词下降明显

第 21 天后：随机抽 30 个词，能做到

英文→中文 ≥ 90%

中文→英文 ≥ 80%

关键拼写词（centre, favourite 等）正确率 ≥ 70% 并持续上升